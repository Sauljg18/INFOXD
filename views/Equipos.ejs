<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/resources/estilo/Equipos.css">
    <title>Pagina de Equipos</title>
</head>
<body>
    <header class="header">
        <a href="/home"><img src="/resources/IMAGENES/LOGO.PNG"></a>
        <ul>
            <li><a href="/clientes">Cliente</a></li>
            <li><a href="/colab">Colaborador</a></li>
            <li><a href="/ver-equipos" style="color:rgb(2, 178, 40)">Equipo</a></li>
            <li><a href="/producto">Producto</a></li>
            <li><a href="/servicio">Servicio</a></li>
            <li><a href="/tarea">Tarea</a></li>
        </ul>
    </header>
    <section class="sidebar"></section>
    <main class="main">
        <div class="container">
            <h1>EQUIPO</h1>
            <div class="button-container">
                <a href="/resequipo"><button class="card">Agregar</button></a>
            </div>
            <input type="text" id="searchEquipo" placeholder="Buscar servicio...">
            <div class="diseño2">
                <div class="tablew">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Nombre</th>
                                <th>Identificacion</th>
                                <th>Fecha</th>
                                <th>Descripción</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="productTable">
                            <% if (results && results.length > 0) { %>
                                <% results.forEach((tablaequipos) => { %>
                                    <tr>
                                        <td><a href="/editequipo/<%= tablaequipos.IdEquipo %>" class="btn btn-outline-info"><%= tablaequipos.IdEquipo %></a></td>
                                        <td><%= tablaequipos.Nombre %></td>
                                        <td><%= tablaequipos.Identificador %></td>
                                        <td><%= tablaequipos.Fecha %></td>
                                        <td><%= tablaequipos.Descripcion %></td>
                                        <td>
                                            <a href="/deleteequipo/<%= tablaequipos.IdEquipo %>" class="btn btn-outline-info">borrar</a>
                                        </td>
                                    </tr>
                                <% }) %>
                            <% } else { %>
                                <tr>
                                    <td colspan="6">No hay datos disponibles.</td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
    <script>
        document.getElementById('searchEquipo').addEventListener('input', function () {
            const searchValue = this.value.toLowerCase();
            const rows = document.querySelectorAll('#productTable tr'); // Selecciona solo las filas del cuerpo
            rows.forEach(row => {
                const productName = row.cells[1]?.textContent.toLowerCase(); // Verifica si la celda existe
                if (productName && productName.includes(searchValue)) {
                    row.style.display = ''; // Muestra la fila
                } else {
                    row.style.display = 'none'; // Oculta la fila
                }
            });
        });
    </script>
</body>
</html>
